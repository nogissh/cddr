(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/mytask/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"27c0":function(t,e,a){"use strict";a("8e41")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header",{attrs:{id:"nav"}},[a("router-link",{attrs:{to:"/"}},[t._v("Task")]),t._v(" | "),a("router-link",{attrs:{to:"/tags"}},[t._v("Tag")]),t._v(" | "),a("router-link",{attrs:{to:"/settings"}},[t._v("Setting")])],1),a("router-view")],1)},i=[],o={name:"App",beforeMount:function(){this.$store.dispatch("task/readlocalstorage"),this.$store.dispatch("tag/readlocalstorage"),this.$store.dispatch("task/readarchivelistlocalstorage")}},r=o,c=(a("034f"),a("2877")),l=Object(c["a"])(r,s,i,!1,null,null,null),d=l.exports,u=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticStyle:{margin:"16px 0","text-align":"center"}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("Tag filter")]),t._v(": "),t._l(t.tags,(function(e,n){return a("span",{key:n,staticClass:"tag",staticStyle:{"margin-right":"4px"},on:{click:function(a){return t.mutatecondtag(e.id)}}},[t._v(t._s(e.name))])})),a("span",{on:{click:function(e){return t.mutatecondtag(null)}}},[t._v("reset")])],2),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("td",{staticStyle:{width:"50%"}},[!1===t.form.task.top.visible?a("button",{staticClass:"borderless",staticStyle:{padding:"8px 16px"},on:{click:t.showTopTaskForm}},[t._v("Create new task")]):t._e()]),a("td",{staticStyle:{width:"50%","text-align":"right"}},[t.donetaskvisible?a("button",{staticClass:"borderless",staticStyle:{padding:"8px 16px","margin-right":"8px"},on:{click:t.hideDoneTask}},[t._v("Hide done")]):a("button",{staticClass:"borderless",staticStyle:{padding:"8px 16px","margin-right":"8px"},on:{click:t.showDoneTask}},[t._v("Show done")]),a("button",{staticClass:"borderless",staticStyle:{padding:"8px 16px"},on:{click:t.archiveDoneTask}},[t._v("Archive done")])])])]),t.form.task.top.visible?a("div",[a("div",{staticClass:"tasklist_task"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.task.top.name,expression:"form.task.top.name"}],staticStyle:{width:"50%","font-size":"16px",padding:"4px"},attrs:{type:"text",placeholder:"Enter your new task..."},domProps:{value:t.form.task.top.name},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.unshift.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.form.task.top,"name",e.target.value)}}}),a("button",{staticClass:"action",staticStyle:{"background-color":"lightskyblue","margin-left":"8px"},on:{click:t.unshift}},[t._v("Add")]),a("button",{staticClass:"action",staticStyle:{"margin-left":"8px"},on:{click:t.hideTopTaskForm}},[t._v("Cancel")])])]):t._e(),a("div",[t.presentationmode?a("presentation-task-list"):a("master-task-list")],1),t.form.task.bottom.visible?a("div",[a("div",{staticClass:"tasklist_task"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.task.bottom.name,expression:"form.task.bottom.name"}],staticStyle:{width:"50%","font-size":"16px",padding:"4px"},attrs:{type:"text",placeholder:"Enter your new task...",id:"bottominputform"},domProps:{value:t.form.task.bottom.name},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.push.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.hideBottomTaskForm.apply(null,arguments)}],input:function(e){e.target.composing||t.$set(t.form.task.bottom,"name",e.target.value)}}}),a("button",{staticClass:"action",staticStyle:{"background-color":"lightskyblue","margin-left":"8px"},on:{click:t.push}},[t._v("Add")]),a("button",{staticClass:"action",staticStyle:{"margin-left":"8px"},on:{click:t.hideBottomTaskForm}},[t._v("Cancel")])])]):t._e(),!1===t.form.task.bottom.visible?a("div",{staticStyle:{"text-align":"center","margin-top":"8px"}},[a("button",{staticClass:"wide round borderless",staticStyle:{padding:"8px 16px"},on:{click:t.showBottomTaskForm}},[t._v("Create new task")])]):t._e()])},m=[],g=a("5530"),f=(a("b0c0"),a("2f62")),h=a("b85c");a("ac1f"),a("1276"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0");function v(t,e){return{id:t,tags:[],name:e,description:null,done:!1,archive:!1,dueDate:null,doneDate:null,createDate:null,updateDate:null}}function k(t,e){return{id:t,name:e,createDate:null}}function b(t,e){var a,n=new Set,s=Object(h["a"])(e);try{for(s.s();!(a=s.n()).done;){var i=a.value;t.has(i)&&n.add(i)}}catch(o){s.e(o)}finally{s.f()}return n}var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.tasks,(function(e){return a("div",{key:e.id,staticClass:"tasklist_task"},[!1===e.done?a("div",{staticClass:"tasklist_flexparent"},[a("div",{staticClass:"flex-name"},[a("span",{staticStyle:{height:"100%","vertical-align":"middle"}},[a("router-link",{attrs:{to:"/tasks/"+e.id}},[t._v(t._s(e.name))])],1)]),a("div",{staticClass:"flex-tag"},[a("span",{staticStyle:{height:"100%","vertical-align":"middle"}},t._l(e.tags,(function(e,n){return a("span",{key:n,staticClass:"tag",staticStyle:{"margin-right":"8px"}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"flex-operate",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"action done",staticStyle:{"margin-right":"8px"},on:{click:function(a){return t.donetask(e.id)}}},[t._v("Done")]),a("button",{staticClass:"action delete",on:{click:function(a){return t.deltask(e.id)}}},[t._v("Delete")])])]):a("div",{staticClass:"tasklist_flexparent"},[a("div",{staticClass:"flex-name"},[a("span",{staticStyle:{height:"100%","vertical-align":"middle","text-decoration":"line-through"}},[a("router-link",{attrs:{to:"/tasks/"+e.id}},[t._v(t._s(e.name))])],1)]),a("div",{staticClass:"flex-tag"},[a("span",{staticStyle:{height:"100%","vertical-align":"middle"}},t._l(e.tags,(function(e,n){return a("span",{key:n,staticClass:"tag",staticStyle:{"margin-right":"8px"}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"flex-operate",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"action undone",staticStyle:{"margin-right":"8px"},on:{click:function(a){return t.undonetask(e.id)}}},[t._v("undone")]),a("button",{staticClass:"action delete",on:{click:function(a){return t.deltask(e.id)}}},[t._v("Delete")])])])])})),0)},y=[],x={name:"TaskList",computed:Object(g["a"])({},Object(f["b"])({tasks:function(t){return t.task.presentation.list}})),methods:{donetask:function(t){this.$store.dispatch("task/done",t)},undonetask:function(t){this.$store.dispatch("task/undone",t)},deltask:function(t){confirm("Deleted task are never restore. [y/N]")&&this.$store.dispatch("task/delete",t)}},beforeMount:function(){this.$store.dispatch("task/presentationlist")}},w=x,S=Object(c["a"])(w,_,y,!1,null,null,null),C=S.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("draggable",{model:{value:t.tasks,callback:function(e){t.tasks=e},expression:"tasks"}},t._l(t.tasks,(function(e){return a("div",{key:e.id,staticClass:"tasklist_task"},[!1===e.done?a("div",{staticClass:"tasklist_flexparent"},[a("div",{staticClass:"flex-name"},[a("span",{staticStyle:{height:"100%","vertical-align":"middle"}},[a("router-link",{attrs:{to:"/tasks/"+e.id}},[t._v(t._s(e.name))])],1)]),a("div",{staticClass:"flex-tag"},[a("span",{staticStyle:{height:"100%","vertical-align":"middle"}},t._l(e.tags,(function(e,n){return a("span",{key:n,staticClass:"tag",staticStyle:{"margin-right":"8px"}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"flex-operate",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"action done",staticStyle:{"margin-right":"8px"},on:{click:function(a){return t.donetask(e.id)}}},[t._v("Done")]),a("button",{staticClass:"action delete",on:{click:function(a){return t.deltask(e.id)}}},[t._v("Delete")])])]):a("div",{staticClass:"tasklist_flexparent"},[a("div",{staticClass:"flex-name"},[a("span",{staticStyle:{height:"100%","vertical-align":"middle","text-decoration":"line-through"}},[a("router-link",{attrs:{to:"/tasks/"+e.id}},[t._v(t._s(e.name))])],1)]),a("div",{staticClass:"flex-tag"},[a("span",{staticStyle:{height:"100%","vertical-align":"middle"}},t._l(e.tags,(function(e,n){return a("span",{key:n,staticClass:"tag",staticStyle:{"margin-right":"8px"}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"flex-operate",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"action undone",staticStyle:{"margin-right":"8px"},on:{click:function(a){return t.undonetask(e.id)}}},[t._v("undone")]),a("button",{staticClass:"action delete",on:{click:function(a){return t.deltask(e.id)}}},[t._v("Delete")])])])])})),0)],1)},T=[],O=a("b76a"),D=a.n(O),j={name:"TaskList",components:{draggable:D.a},computed:{tasks:{get:function(){return this.$store.getters["task/list"]},set:function(t){this.$store.dispatch("task/draggablesort",t)}}},methods:{donetask:function(t){this.$store.dispatch("task/done",t)},undonetask:function(t){this.$store.dispatch("task/undone",t)},deltask:function(t){confirm("Deleted task are never restore. [y/N]")&&this.$store.dispatch("task/delete",t)}},beforeMount:function(){this.$store.dispatch("task/presentationlist")}},E=j,N=Object(c["a"])(E,$,T,!1,null,null,null),P=N.exports,A={name:"Home",components:{MasterTaskList:P,PresentationTaskList:C},data:function(){return{form:{task:{top:{visible:!1,name:""},bottom:{visible:!1,name:""}}}}},computed:Object(g["a"])({},Object(f["b"])({presentationmode:function(t){return t.task.presentation.mode},tags:function(t){return t.tag.list},donetaskvisible:function(t){return t.task.presentation.conds.done}})),methods:{unshift:function(){""!=this.form.task.top.name&&(this.$store.dispatch("task/unshift",v(Date.now(),this.form.task.top.name)),this.hideTopTaskForm(),this.form.task.top.name="")},push:function(){""!=this.form.task.bottom.name&&(this.$store.dispatch("task/push",v(Date.now(),this.form.task.bottom.name)),this.form.task.bottom.name="")},mutatecondtag:function(t){this.$store.dispatch("task/presentationcondstagids",t)},showTopTaskForm:function(){this.form.task.top.visible=!0},hideTopTaskForm:function(){this.form.task.top.visible=!1},showBottomTaskForm:function(){this.form.task.bottom.visible=!0},hideBottomTaskForm:function(){this.form.task.bottom.visible=!1},hideDoneTask:function(){this.$store.dispatch("task/hidedonetask")},showDoneTask:function(){this.$store.dispatch("task/showdonetask")},archiveDoneTask:function(){confirm("Archived task are never restore. [y/N]")&&this.$store.dispatch("task/archivedonetask")}}},F=A,M=Object(c["a"])(F,p,m,!1,null,null,null),J=M.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticStyle:{width:"80%","min-width":"640px"},attrs:{id:"task-edit-table"}},[a("tr",[a("th",[t._v(" Task ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.name,expression:"task.name"}],attrs:{type:"text"},domProps:{value:t.task.name},on:{input:function(e){e.target.composing||t.$set(t.task,"name",e.target.value)}}})])]),a("tr",[a("th",[t._v(" Description ")]),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task.description,expression:"task.description"}],domProps:{value:t.task.description},on:{input:function(e){e.target.composing||t.$set(t.task,"description",e.target.value)}}})])]),a("tr",[a("th",[t._v(" Tag ")]),a("td",[t._l(t.task.tags,(function(e,n){return a("span",{key:n,staticClass:"tag",staticStyle:{"margin-right":"8px"}},[t._v(t._s(e.name))])})),a("router-link",{attrs:{to:"/tasks/"+t.$route.params.id+"/tag"}},[t._v("Tag manager")])],2)]),a("tr",[a("th",[t._v(" Done ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.done,expression:"task.done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.task.done)?t._i(t.task.done,null)>-1:t.task.done},on:{change:function(e){var a=t.task.done,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);n.checked?o<0&&t.$set(t.task,"done",a.concat([i])):o>-1&&t.$set(t.task,"done",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.task,"done",s)}}})])]),a("tr",[a("th",[t._v(" Due date ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.dueDate,expression:"task.dueDate"}],attrs:{type:"datetime-local"},domProps:{value:t.task.dueDate},on:{input:function(e){e.target.composing||t.$set(t.task,"dueDate",e.target.value)}}})])]),t._m(0)]),a("div",{staticStyle:{"text-align":"center"}},[a("button",{staticClass:"action",staticStyle:{"background-color":"#87cefa"},on:{click:t.update}},[t._v("Update")])])])},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v(" Create date ")]),a("td",[a("p")])])}],I={name:"Task",computed:{task:{get:function(){return this.$store.getters["task/get"]}}},methods:{update:function(){this.$store.dispatch("task/overwritetask",this.task),alert("Success!")}},beforeMount:function(){this.$store.dispatch("task/select",this.$route.params.id)}},z=I,H=(a("b39f"),Object(c["a"])(z,L,B,!1,null,null,null)),U=H.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags"},[a("div",[a("tag-list")],1),a("div",{staticStyle:{width:"100%","margin-top":"16px"}},[a("span",{staticStyle:{"margin-right":"8px"}},[t._v("Add new tag:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.tag.name,expression:"form.tag.name"}],staticStyle:{width:"200px","margin-right":"8px"},attrs:{type:"text",placeholder:"Tag name"},domProps:{value:t.form.tag.name},on:{input:function(e){e.target.composing||t.$set(t.form.tag,"name",e.target.value)}}}),a("button",{staticClass:"action",on:{click:t.add}},[t._v("add")])])])},G=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("draggable",{model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}},t._l(t.tags,(function(e){return a("div",{key:e.id,staticClass:"taglist_tag"},[a("div",{staticClass:"tag__flex-parent"},[a("div",{staticClass:"tag__flex-name"},[a("span",{staticStyle:{height:"100%","vertical-align":"middle"}},[a("router-link",{attrs:{to:"/tags/"+e.id}},[t._v(t._s(e.name))])],1)]),a("div",{staticClass:"tag__flex-operate",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"action delete",on:{click:function(a){return t.deltag(e.id)}}},[t._v("Delete")])])])])})),0)],1)},Q=[],R={name:"TagList",components:{draggable:D.a},computed:{tags:{get:function(){return this.$store.getters["tag/list"]},set:function(t){this.$store.dispatch("tag/draggablesort",t)}}},methods:{deltag:function(t){confirm("Deleted tag are never restore. [y/N]")&&this.$store.dispatch("tag/delete",t)}}},V=R,W=Object(c["a"])(V,K,Q,!1,null,null,null),X=W.exports,Y={name:"Tags",components:{TagList:X},data:function(){return{form:{tag:{name:""}}}},computed:Object(g["a"])({},Object(f["b"])({tagList:function(t){return t.tag.list}})),methods:{add:function(){this.$store.dispatch("tag/add",k(Date.now(),this.form.tag.name)),this.form.tag.name=""}}},Z=Y,tt=Object(c["a"])(Z,q,G,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticStyle:{width:"80%","min-width":"640px"},attrs:{id:"tag-edit-table"}},[a("tr",[a("th",[t._v(" Tag ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tag.name,expression:"tag.name"}],attrs:{type:"text"},domProps:{value:t.tag.name},on:{input:function(e){e.target.composing||t.$set(t.tag,"name",e.target.value)}}})])]),t._m(0)]),a("div",{staticStyle:{"text-align":"center"}},[a("button",{staticClass:"action",staticStyle:{"background-color":"#87cefa"},on:{click:t.update}},[t._v("Update")])])])},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v(" Create date ")]),a("td",[a("p")])])}],st={name:"Tag",computed:{tag:{get:function(){return this.$store.getters["tag/get"]}}},methods:{update:function(){this.$store.dispatch("tag/overwritetag",this.tag),alert("Success!")}},beforeMount:function(){this.$store.dispatch("tag/select",this.$route.params.id)}},it=st,ot=(a("760a"),Object(c["a"])(it,at,nt,!1,null,null,null)),rt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0 auto","margin-top":"24px",width:"100%","max-width":"360px"}},[a("table",{staticStyle:{width:"100%","text-align":"center"},attrs:{id:"tasktag-manager-table"}},t._l(t.tags,(function(e,n){return a("tr",{key:n},[a("td",{staticStyle:{width:"70%"}},[a("span",{staticClass:"tag"},[t._v(t._s(e.name))])]),a("td",{staticStyle:{width:"30%"}},[-1==t.tasktagids.indexOf(e.id)?a("button",{staticClass:"action",staticStyle:{"background-color":"lightskyblue"},on:{click:function(e){return t.pushtag(n)}}},[t._v("add")]):a("button",{staticClass:"action",staticStyle:{"background-color":"pink"},on:{click:function(a){return t.deletetag(e.id)}}},[t._v("remove")])])])})),0),a("div",{staticStyle:{"margin-top":"24px","text-align":"center"}},[a("a",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back to detail")])])])},lt=[],dt={name:"TaskTag",computed:Object(g["a"])(Object(g["a"])({},Object(f["b"])({task:function(t){return t.task.list[t.task.select]},tags:function(t){return t.tag.list}})),{},{tagids:{get:function(){return this.$store.getters["tag/getidlist"]}},tasktagids:{get:function(){return this.$store.getters["task/gettasktagids"]}}}),methods:{pushtag:function(t){this.$store.dispatch("task/pushtag",this.tags[t])},deletetag:function(t){this.$store.dispatch("task/deletetag",t)}}},ut=dt,pt=(a("27c0"),Object(c["a"])(ut,ct,lt,!1,null,null,null)),mt=pt.exports,gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"settings"},[a("h1",[t._v("This is a setting page")])])}],ht={},vt=Object(c["a"])(ht,gt,ft,!1,null,null,null),kt=vt.exports;n["a"].use(u["a"]);var bt=[{path:"/",name:"Home",component:J},{path:"/tasks",name:"Tasks",component:J},{path:"/tasks/:id",name:"Task",component:U},{path:"/tasks/:id/tag",name:"TaskTag",component:mt},{path:"/tags",name:"Tags",component:et},{path:"/tags/:id",name:"Tag",component:rt},{path:"/settings",name:"Settings",component:kt}],_t=new u["a"]({mode:"hash",base:"/mytask/",routes:bt}),yt=_t;a("d81d"),a("4de4"),a("a434"),a("99af");n["a"].use(f["a"]);var xt={namespaced:!0,state:{list:[],select:null,presentation:{mode:!1,list:[],conds:{tagids:[],done:!0}},archive:{list:[]}},getters:{getTask:function(t){return t.list[t.select]},list:function(t){return t.list},get:function(t){return t.list[t.select]},gettasktagids:function(t){return t.list[t.select].tags.map((function(t){return t.id}))},archivelist:function(t){return t.archive.list}},mutations:{overwrite:function(t,e){t.list=e},overwritetask:function(t,e){t.list[t.select]=e},push:function(t,e){t.list.push(e)},unshift:function(t,e){t.list.unshift(e)},delete:function(t,e){t.list=t.list.filter((function(t){return t.id!=e}))},select:function(t,e){t.select=e},done:function(t,e){t.list[e].done=!0},undone:function(t,e){t.list[e].done=!1},pushtag:function(t,e){t.list[t.select].tags.push(e)},deletetag:function(t,e){t.list[t.select].tags=t.list[t.select].tags.filter((function(t){return t.id!=e}))},presentationmode:function(t,e){t.presentation.mode=e},presentationlist:function(t){var e=t.list;t.presentation.conds.tagids.length>0&&(e=e.filter((function(e){var a=new Set(t.presentation.conds.tagids),n=new Set(e.tags.map((function(t){return t.id}))),s=b(a,n);return a.size==s.size}))),0==t.presentation.conds.done&&(e=e.filter((function(t){return 0==t.done}))),t.presentation.list=e},presentationcondstagids:function(t,e){if(null==e)t.presentation.conds.tagids=[];else{var a=t.presentation.conds.tagids.indexOf(e);a<0?t.presentation.conds.tagids.push(e):t.presentation.conds.tagids.splice(a,1)}},presentationcondsdone:function(t,e){t.presentation.conds.done=e},archivelist:function(t,e){t.archive.list=e}},actions:{overwritetask:function(t,e){var a=t.commit,n=t.dispatch;a("overwritetask",e),n("persistlocalstrage")},push:function(t,e){var a=t.commit,n=t.dispatch;a("push",e),n("presentationlist")},unshift:function(t,e){var a=t.commit,n=t.dispatch;a("unshift",e),n("presentationlist")},delete:function(t,e){var a=t.commit,n=t.dispatch;a("delete",e),n("presentationlist")},select:function(t,e){var a=t.state,n=t.commit,s=a.list.map((function(t){return String(t.id)})),i=s.indexOf(String(e));n("select",i)},done:function(t,e){var a=t.state,n=t.commit,s=t.dispatch;s("select",e),n("done",a.select),s("presentationlist")},undone:function(t,e){var a=t.state,n=t.commit,s=t.dispatch;s("select",e),n("undone",a.select),s("presentationlist")},pushtag:function(t,e){var a=t.commit,n=t.dispatch;a("pushtag",e),n("presentationlist")},deletetag:function(t,e){var a=t.commit,n=t.dispatch;a("deletetag",e),n("presentationlist")},presentationcondstagids:function(t,e){var a=t.state,n=t.commit,s=t.dispatch;n("presentationcondstagids",e),a.presentation.conds.tagids.length>0||0==a.presentation.conds.done?n("presentationmode",!0):n("presentationmode",!1),s("presentationlist")},presentationlist:function(t){var e=t.commit,a=t.dispatch;e("presentationlist"),a("persistlocalstrage")},persistlocalstrage:function(t){var e=t.getters;window.localStorage.setItem("tasks",JSON.stringify(e.list))},readlocalstorage:function(t){var e=t.commit,a=JSON.parse(window.localStorage.getItem("tasks"));null==a&&(a=[]),e("overwrite",a)},draggablesort:function(t,e){var a=t.commit,n=t.dispatch;a("overwrite",e),n("persistlocalstrage")},hidedonetask:function(t){var e=t.commit,a=t.dispatch;e("presentationmode",!0),e("presentationcondsdone",!1),a("presentationlist")},showdonetask:function(t){var e=t.state,a=t.commit,n=t.dispatch;e.presentation.conds.tagids.length>0?a("presentationmode",!0):a("presentationmode",!1),a("presentationcondsdone",!0),n("presentationlist")},archivedonetask:function(t){var e=t.getters,a=t.commit,n=t.dispatch,s=e["archivelist"],i=e.list.filter((function(t){return 0==t.done})),o=e.list.filter((function(t){return 1==t.done}));a("overwrite",i),a("archivelist",s.concat(o)),n("presentationlist"),n("persistarchivelistlocalstrage")},persistarchivelistlocalstrage:function(t){var e=t.getters;window.localStorage.setItem("archivedtasks",JSON.stringify(e.archivelist))},readarchivelistlocalstorage:function(t){var e=t.commit,a=JSON.parse(window.localStorage.getItem("archivedtasks"));null==a&&(a=[]),e("archivelist",a)}}},wt={namespaced:!0,state:{list:[],select:null},getters:{list:function(t){return t.list},get:function(t){return t.list[t.select]},getidlist:function(t){return t.list.map((function(t){return t.id}))}},mutations:{overwrite:function(t,e){t.list=e},overwritetag:function(t,e){t.list[t.select]=e},add:function(t,e){t.list.push(e)},delete:function(t,e){t.list=t.list.filter((function(t){return t.id!=e}))},select:function(t,e){t.select=e}},actions:{add:function(t,e){var a=t.commit,n=t.dispatch;a("add",e),n("persistlocalstrage")},delete:function(t,e){var a=t.commit,n=t.dispatch;a("delete",e),n("persistlocalstrage")},select:function(t,e){var a=t.state,n=t.commit,s=a.list.map((function(t){return String(t.id)})),i=s.indexOf(String(e));n("select",i)},overwritetag:function(t,e){var a=t.commit,n=t.dispatch;a("overwritetag",e),n("persistlocalstrage")},persistlocalstrage:function(t){var e=t.getters;window.localStorage.setItem("tags",JSON.stringify(e.list))},readlocalstorage:function(t){var e=t.commit,a=JSON.parse(window.localStorage.getItem("tags"));null==a&&(a=[]),e("overwrite",a)},draggablesort:function(t,e){var a=t.commit,n=t.dispatch;a("overwrite",e),n("persistlocalstrage")}}},St=new f["a"].Store({modules:{task:xt,tag:wt}});n["a"].config.productionTip=!1,new n["a"]({store:St,router:yt,render:function(t){return t(d)}}).$mount("#app")},"760a":function(t,e,a){"use strict";a("fd04")},"85ec":function(t,e,a){},"8e41":function(t,e,a){},"934e":function(t,e,a){},b39f:function(t,e,a){"use strict";a("934e")},fd04:function(t,e,a){}});
//# sourceMappingURL=app.a1bc3ba2.js.map